{"version":3,"sources":["webpack:///src/components/EnumSelector.vue","webpack:///./src/components/EnumSelector.vue?fb86","webpack:///./src/components/EnumSelector.vue","webpack:///src/components/Goods.vue","webpack:///./src/components/Goods.vue?1a2f","webpack:///./src/components/Goods.vue"],"names":["EnumSelector","Array","Boolean","b","$forceUpdate","components_EnumSelector","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","i","key","class","active","selected","attrs","type","domProps","checked","on","change","$event","changeSelected","target","_v","_s","value","staticRenderFns","Goods","__webpack_require__","normalizeComponent","ssrContext","_this","constant","find","cur","productid","mockTableData","_moreCondModalForm","moreCondModalForm","category","goldType","brand","series","_searchForm","searchForm","obj","filter","length","_this2","config","then","resp","_resp$data","data","results","count","catch","err","page","pageSize","params","extends_default","resetFields","tableData","_this3","k","cum","conds","components_Goods","ref","model","label-width","label","prop","callback","$$v","$set","expression","dot","moreCondCount","icon","click","expandMoreCond","nativeOn","search","reset","exportCsv","columns","tableColumns","loading","tableLoading","stripe","staticStyle","float","total","totalCount","current","show-total","show-elevator","show-sizer","on-change","changePage","on-page-size-change","changePageSize","title","mask-closable","width","moreCondModal","items","categoryOfGood","single","goldTypes","brandOptions","filter-method","filterMethod","placeholder","seriesOptions","saveMoreCond","margin-left","cancelMoreCond","Goods_Component","Goods_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.0819fefc7ca44e5de477.js","sourcesContent":["<template>\n  <div class=\"enum-selector\">\n    <span\n      class=\"enum-selector__item\"\n      v-for=\"(item, i) in items\"\n      :key=\"item.key\"\n      :class=\"{ active: selected[i] }\"\n    >\n      <input\n        type=\"checkbox\"\n        :checked=\"selected[i]\"\n        @change=\"changeSelected($event.target.checked, i)\"\n      >\n      {{ item.value }}\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    selected: {\n      type: Array,\n      default: [],\n    },\n    items: {\n      type: Array,\n      default: [],\n    },\n    single: {\n      type: Boolean,\n      default: true,\n    }\n  },\n  // data () {\n  //   return {\n  //     selectedItem: [...this.selected],\n  //   }\n  // },\n  methods: {\n    changeSelected (b, i) {\n      if (this.single) {\n        this.selected.fill(false)\n      }\n      this.selected[i] = b\n      this.$forceUpdate()\n    },\n  },\n}\n</script>\n\n<style lang=\"less\">\n.enum-selector {\n  .enum-selector__item {\n    position: relative;\n    float: left;\n    min-width: 52px;\n    margin: 0 5px;\n    margin-bottom: 5px;\n    text-align: center;\n    padding: 0 5px;\n\n    &.active {\n      background: #19be6b;\n      color: #fff;\n    }\n\n    > input {\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      width: 100%;\n      height: 100%;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/EnumSelector.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"enum-selector\"},_vm._l((_vm.items),function(item,i){return _c('span',{key:item.key,staticClass:\"enum-selector__item\",class:{ active: _vm.selected[i] }},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.selected[i]},on:{\"change\":function($event){_vm.changeSelected($event.target.checked, i)}}}),_vm._v(\"\\n    \"+_vm._s(item.value)+\"\\n  \")])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b2c69f74\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--1-1!./src/components/EnumSelector.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b2c69f74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2c69f74\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EnumSelector.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"goods\">\n    <div class=\"header\">\n      <Form ref=\"searchForm\" :model=\"searchForm\" :label-width=\"80\">\n        <FormItem label=\"商品型号\" prop=\"model\">\n          <Input v-model=\"searchForm.model\">\n          </Input>\n        </FormItem>\n        <FormItem label=\"商品名称\" prop=\"title\">\n          <Input v-model=\"searchForm.title\">\n          </Input>\n        </FormItem>\n        <FormItem>\n          <Badge dot :count=\"moreCondCount\">\n            <Button type=\"ghost\" icon=\"ios-search\" @click=\"expandMoreCond\">更多筛选</Button>\n          </Badge>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click.native=\"search\">搜索</Button>\n          <Button type=\"error\" @click.native=\"reset\">清空</Button>\n          <Button\n            type=\"success\"\n            @click.native=\"exportCsv\"\n          >导出</Button>\n        </FormItem>\n      </Form>\n    </div>\n    <div class=\"body\">\n      <Table\n        ref=\"table\"\n        :data=\"tableData\"\n        :columns=\"tableColumns\"\n        :loading=\"tableLoading\"\n        stripe\n      />\n    </div>\n    <div class=\"footer\">\n      <div class=\"pager\" style=\"float: right;\">\n        <Page\n          :total=\"totalCount\"\n          :current=\"1\"\n          show-total\n          show-elevator\n          show-sizer\n          @on-change=\"changePage\"\n          @on-page-size-change=\"changePageSize\"\n        />\n      </div>\n    </div>\n    <Modal\n      class=\"edit-field-modal\"\n      v-model=\"moreCondModal\"\n      title=\"更多筛选条件\"\n      :mask-closable=\"false\"\n      :width=\"700\"\n    >\n      <Form\n        :model=\"moreCondModalForm\"\n        :label-width=\"70\"\n      >\n        <FormItem label=\"商品类别\" prop=\"category\">\n          <enum-selector\n            :selected=\"moreCondModalForm.category\"\n            :items=\"categoryOfGood\"\n            :single=\"false\"\n          />\n        </FormItem>\n        <FormItem label=\"镶嵌材质\" prop=\"goldType\">\n          <enum-selector\n            :selected=\"moreCondModalForm.goldType\"\n            :items=\"goldTypes\"\n            :single=\"false\"\n          />\n        </FormItem>\n        <FormItem label=\"品牌\" prop=\"brand\">\n          <AutoComplete\n            v-model=\"moreCondModalForm.brand\"\n            :data=\"brandOptions\"\n            :filter-method=\"filterMethod\"\n            placeholder=\"输入关键字搜索品牌\"\n            style=\"width:400px\"\n          />\n        </FormItem>\n        <FormItem label=\"系列\" prop=\"series\">\n          <AutoComplete\n            v-model=\"moreCondModalForm.series\"\n            :data=\"seriesOptions\"\n            :filter-method=\"filterMethod\"\n            placeholder=\"输入关键字搜索系列\"\n            style=\"width:400px\"\n          />\n        </FormItem>\n        <FormItem>\n          <Button\n            type=\"success\"\n            @click=\"saveMoreCond\"\n          >保存</Button>\n          <Button\n            type=\"ghost\"\n            style=\"margin-left: 8px\"\n            @click=\"cancelMoreCond\"\n          >取消</Button>\n        </FormItem>\n      </Form>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { CATEGORYOFGOOD, GOLDTYPE, GOLDPURITY,\n  BRANDOPTIONS, SERIESOPTIONS, RELEASESTATUS } from '@/constant'\nimport EnumSelector from './EnumSelector'\n\nexport default {\n  components: {\n    'enum-selector': EnumSelector,\n  },\n  data () {\n    return {\n      categoryOfGood: CATEGORYOFGOOD,\n      goldTypes: GOLDTYPE,\n      brandOptions: BRANDOPTIONS,\n      seriesOptions: SERIESOPTIONS,\n      page: 1,\n      pageSize: 10,\n      totalCount: 0,\n      searchForm: {\n        category: [],\n        model: '',\n        title: '',\n        goldType: [],\n        brand: '',\n        series: '',\n      },\n      moreCondModal: false,\n      moreCondCount: 0,\n      moreCondModalForm: {\n        category: [],\n        goldType: [],\n        brand: '',\n        series: '',\n      },\n      tableData: [],\n      tableLoading: false,\n      // exportLoading: false,\n      tableColumns: [\n        {\n          title: '商品ID',\n          key: 'productid',\n          sortable: true,\n          minWidth: 150,\n        },\n        {\n          title: '商品类别',\n          key: 'category',\n          sortable: true,\n          minWidth: 100,\n          render (h, params) {\n            const category = CATEGORYOFGOOD.find(\n              cur => params.row.category === cur.key)\n            return h('span', category && category.value)\n          },\n        },\n        {\n          title: '商品型号',\n          key: 'model',\n          sortable: true,\n          minWidth: 150,\n        },\n        {\n          title: '商品名称',\n          key: 'title',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '品牌',\n          key: 'brand',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '系列',\n          key: 'series',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '镶嵌材质',\n          key: 'goldType',\n          filters: GOLDTYPE.map(t => ({\n            label: t.value,\n            value: t.key,\n          })),\n          filterMultiple: true,\n          filterMethod (value, row) {\n            return row.goldType === value\n          },\n          minWidth: 100,\n          render (h, params) {\n            const goldType = GOLDTYPE.find(\n              cur => params.row.goldType === cur.key)\n            return h('span', goldType && goldType.value)\n          },\n        },\n        {\n          title: '材质纯度',\n          key: 'goldPurity',\n          filters: GOLDPURITY.map(t => ({\n            label: t.value,\n            value: t.key,\n          })),\n          filterMultiple: true,\n          filterMethod (value, row) {\n            return row.goldPurity === value\n          },\n          minWidth: 100,\n          render (h, params) {\n            const goldPurity = GOLDPURITY.find(\n              cur => params.row.goldPurity === cur.key)\n            return h('span', goldPurity && goldPurity.value)\n          },\n        },\n        {\n          title: '含金量（克）',\n          key: 'goldContent',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '钻石重量（克）',\n          key: 'diamondWeight',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '销售价',\n          key: 'sellingPrice',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '租金',\n          key: 'rent',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '押金',\n          key: 'deposit',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '是否发布',\n          key: 'releaseStatus',\n          filters: RELEASESTATUS.map(t => ({\n            label: t.value,\n            value: t.key,\n          })),\n          filterMultiple: true,\n          filterMethod (value, row) {\n            return row.releaseStatus === value\n          },\n          minWidth: 100,\n          render (h, params) {\n            const releaseStatus = RELEASESTATUS.find(\n              cur => params.row.releaseStatus === cur.key)\n            return h('span', releaseStatus && releaseStatus.value)\n          },\n        },\n        {\n          title: '操作',\n          key: 'action',\n          width: 100,\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    // console.log(params)\n                    this.$router.push(`goods/${params.row.productid}`)\n                  }\n                }\n              }, '详情'),\n            ])\n          }\n        },\n      ]\n    }\n  },\n  created () {\n    this.mockTableData()\n  },\n  methods: {\n    expandMoreCond () {\n      this.moreCondModal = true\n    },\n    saveMoreCond () {\n      const { category, goldType, brand, series } = this.moreCondModalForm\n      this.searchForm = Object.assign(this.searchForm, {\n        category: [...category],\n        goldType: [...goldType],\n        brand,\n        series,\n      })\n      this.moreCondCount = this.calMoreCondCount(this.moreCondModalForm)\n      this.moreCondModal = false\n    },\n    cancelMoreCond () {\n      const { category, goldType, brand, series } = this.searchForm\n      this.moreCondModalForm = {\n        category: [...category],\n        goldType: [...goldType],\n        brand,\n        series,\n      }\n      this.moreCondCount = this.calMoreCondCount(this.moreCondModalForm)\n      this.moreCondModal = false\n    },\n    filterMethod (value, option) {\n      return option.includes(value)\n    },\n    calMoreCondCount (obj) {\n      return +Object.keys(obj).reduce((cum, key) => {\n        return cum || (obj[key] instanceof Array\n          ? obj[key].filter(cur => cur).length\n          : obj[key])\n      }, false)\n    },\n    mockTableData (config) {\n      this.tableLoading = true\n      const url = '/product/'\n      this.$fetch(url, config)\n        .then(resp => {\n          console.log(resp)\n          const { count, results } = resp.data\n          this.tableData = results\n          this.totalCount = count\n          this.tableLoading = false\n        })\n        .catch(err => {\n          console.log(err)\n          this.$Message.error({\n            content: err,\n          })\n          this.tableLoading = false\n        })\n    },\n    changePage (page) {\n      console.log(page)\n      this.page = page\n      this.mockTableData({\n        params: {\n          offset: (page - 1) * this.pageSize,\n          limit: this.pageSize,\n        }\n      })\n    },\n    changePageSize (pageSize) {\n      console.log(pageSize)\n      this.pageSize = pageSize\n      this.mockTableData({\n        params: {\n          offset: 0,\n          limit: pageSize,\n        }\n      })\n    },\n    search () {\n      console.log(this.formConditions(this.searchForm))\n      this.mockTableData({\n        params: {\n          offset: (this.page - 1) * this.pageSize,\n          limit: this.pageSize,\n          ...this.formConditions(this.searchForm),\n        }\n      })\n    },\n    reset () {\n      this.$refs.searchForm.resetFields()\n      this.moreCondModalForm = {\n        category: [],\n        goldType: [],\n        brand: '',\n        series: '',\n      }\n      this.searchForm = {\n        category: [],\n        goldType: [],\n        brand: '',\n        series: '',\n      }\n      this.moreCondCount = 0\n      this.mockTableData({\n        params: {\n          offset: (this.page - 1) * this.pageSize,\n          limit: this.pageSize,\n        }\n      })\n    },\n    exportCsv () {\n      this.$refs.table.exportCsv({\n        filename: '会员信息',\n        columns: this.tableColumns.filter(col => col.key !== 'action'),\n        data: this.tableData,\n      })\n    },\n    formConditions (form) {\n      const conds = Object.keys(form).reduce((obj, k) => {\n        if (form[k] != false) {\n          if (typeof form[k] === 'object') {\n            obj[k] = [...form[k]]\n          } else {\n            obj[k] = form[k]\n          }\n        }\n        return obj\n      }, {})\n\n      conds.category && (conds.category = conds.category.reduce((cum, cur, i) => {\n        cur && cum.push(this.categoryOfGood[i].key)\n        return cum\n      }, []))\n      conds.goldType && (conds.goldType = conds.goldType.reduce((cum, cur, i) => {\n        cur && cum.push(this.goldTypes[i].key)\n        return cum\n      }, []))\n      return conds\n    },\n  }\n}\n</script>\n\n<style lang=\"less\">\n.goods {\n  .header {\n    flex-grow: 0;\n  }\n\n  .body {\n    border: 1px solid #dddee1;\n    min-height: 300px;\n    flex: 1;\n\n    .ivu-table-wrapper {\n      border: none;\n      height: 100%;\n\n      .ivu-table {\n        overflow: auto;\n        // overflow-x: hidden;\n      }\n\n      .ivu-table:before {\n        content: none;\n      }\n\n      .ivu-table:after {\n        content: none;\n      }\n\n      // .ivu-table-header {\n      //   position: fixed;\n      //   z-index: 99;\n      // }\n\n      .ivu-table-body {\n        // margin-top: 40px;\n        margin-bottom: 10px;\n      }\n\n      // @media screen and (max-width: 768px){\n      //   .ivu-table-body {\n      //     margin-top: 55px;\n      //   }\n      // }\n\n      .ivu-table-tip {\n        top: 40px;\n        position: relative;\n\n        table {\n          width: auto;\n\n          td {\n            border-bottom: none;\n          }\n        }\n      }\n    }\n  }\n\n  .footer {\n    height: 36px;\n    box-sizing: border-box;\n    margin-top: 10px;\n    margin-right: 10px;\n    overflow: hidden;\n    flex-grow: 0;\n  }\n}\n.edit-field-modal {\n  .ivu-form {\n    height: 100%;\n\n    .ivu-input {\n      width: 400px;\n    }\n\n    .ivu-form-item:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .ivu-modal-footer {\n    display: none;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('div',{staticClass:\"header\"},[_c('Form',{ref:\"searchForm\",attrs:{\"model\":_vm.searchForm,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"商品型号\",\"prop\":\"model\"}},[_c('Input',{model:{value:(_vm.searchForm.model),callback:function ($$v) {_vm.$set(_vm.searchForm, \"model\", $$v)},expression:\"searchForm.model\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"商品名称\",\"prop\":\"title\"}},[_c('Input',{model:{value:(_vm.searchForm.title),callback:function ($$v) {_vm.$set(_vm.searchForm, \"title\", $$v)},expression:\"searchForm.title\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Badge',{attrs:{\"dot\":\"\",\"count\":_vm.moreCondCount}},[_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"ios-search\"},on:{\"click\":_vm.expandMoreCond}},[_vm._v(\"更多筛选\")])],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.search($event)}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},nativeOn:{\"click\":function($event){return _vm.reset($event)}}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.exportCsv($event)}}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('Table',{ref:\"table\",attrs:{\"data\":_vm.tableData,\"columns\":_vm.tableColumns,\"loading\":_vm.tableLoading,\"stripe\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"pager\",staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.totalCount,\"current\":1,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)]),_vm._v(\" \"),_c('Modal',{staticClass:\"edit-field-modal\",attrs:{\"title\":\"更多筛选条件\",\"mask-closable\":false,\"width\":700},model:{value:(_vm.moreCondModal),callback:function ($$v) {_vm.moreCondModal=$$v},expression:\"moreCondModal\"}},[_c('Form',{attrs:{\"model\":_vm.moreCondModalForm,\"label-width\":70}},[_c('FormItem',{attrs:{\"label\":\"商品类别\",\"prop\":\"category\"}},[_c('enum-selector',{attrs:{\"selected\":_vm.moreCondModalForm.category,\"items\":_vm.categoryOfGood,\"single\":false}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"镶嵌材质\",\"prop\":\"goldType\"}},[_c('enum-selector',{attrs:{\"selected\":_vm.moreCondModalForm.goldType,\"items\":_vm.goldTypes,\"single\":false}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"品牌\",\"prop\":\"brand\"}},[_c('AutoComplete',{staticStyle:{\"width\":\"400px\"},attrs:{\"data\":_vm.brandOptions,\"filter-method\":_vm.filterMethod,\"placeholder\":\"输入关键字搜索品牌\"},model:{value:(_vm.moreCondModalForm.brand),callback:function ($$v) {_vm.$set(_vm.moreCondModalForm, \"brand\", $$v)},expression:\"moreCondModalForm.brand\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"系列\",\"prop\":\"series\"}},[_c('AutoComplete',{staticStyle:{\"width\":\"400px\"},attrs:{\"data\":_vm.seriesOptions,\"filter-method\":_vm.filterMethod,\"placeholder\":\"输入关键字搜索系列\"},model:{value:(_vm.moreCondModalForm.series),callback:function ($$v) {_vm.$set(_vm.moreCondModalForm, \"series\", $$v)},expression:\"moreCondModalForm.series\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.saveMoreCond}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.cancelMoreCond}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46086923\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--1-1!./src/components/Goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46086923\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46086923\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Goods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}