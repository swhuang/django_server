webpackJsonp([12],{ZCIe:function(e,t){},bxgC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("pFYg"),n=r.n(a),o=r("fZjL"),i=r.n(o),s=r("Gu7T"),l=r.n(s),c=r("Dd8w"),u=r.n(c),d=r("xAvK"),m={data:function(){var e=this;return{orderType:d.ORDERTYPE,paymentType:d.PAYMENTTYPE,orderStatus:d.ORDERSTATUS,totalCount:0,page:1,pageSize:10,searchForm:{orderNo:"",orderType:[],orderStatus:[],createDate:[],relatedServiceOrder:""},tableData:[],tableLoading:!1,tableColumns:[{title:"订单单号",key:"orderNo",sortable:!0,minWidth:150},{title:"订单类型",key:"orderType",filters:d.ORDERTYPE.map(function(e){return{label:e.value,value:e.key}}),filterMultiple:!0,filterMethod:function(e,t){return t.orderType===e},minWidth:120,render:function(e,t){var r=d.ORDERTYPE.find(function(e){return t.row.orderType===e.key});return e("span",r&&r.value)}},{title:"订单状态",key:"orderStatus",filters:d.ORDERSTATUS.map(function(e){return{label:e.value,value:e.key}}),filterMultiple:!0,filterMethod:function(e,t){return t.orderStatus===e},minWidth:120,render:function(e,t){var r=d.ORDERSTATUS.find(function(e){return t.row.orderStatus===e.key});return e("span",r&&r.value)}},{title:"订单金额",key:"amount",sortable:!0,minWidth:120},{title:"支付时间",key:"paymentDatetime",sortable:!0,minWidth:120},{title:"支付方式",key:"paymentType",filters:d.PAYMENTTYPE.map(function(e){return{label:e.value,value:e.key}}),filterMultiple:!0,filterMethod:function(e,t){return t.paymentType===e},minWidth:120,render:function(e,t){var r=d.PAYMENTTYPE.find(function(e){return t.row.paymentType===e.key});return e("span",r&&r.value)}},{title:"订单创建时间",key:"createDate",sortable:!0,minWidth:150},{title:"关联服务单号",key:"relatedServiceOrder",sortable:!0,minWidth:200},{title:"操作",key:"action",width:100,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.$router.push("rent-order/"+r.row.orderNo)}}},"详情")])}}]}},created:function(){this.searchForm.relatedServiceOrder=this.$route.query.serviceNo,this.mockTableData({params:u()({},this.formConditions(this.searchForm))})},methods:{filterMethod:function(e,t){return t.includes(e)},changecreateDate:function(e){this.searchForm.createDate=[].concat(l()(e))},mockTableData:function(e){var t=this;this.tableLoading=!0;this.$fetch("/RentalOrder/",e).then(function(e){var r=e.data,a=r.count,n=r.results;t.tableData=n,t.totalCount=a,t.tableLoading=!1}).catch(function(e){t.$Message.error({content:"查询失败"}),t.tableLoading=!1})},changePage:function(e){this.page=e,this.mockTableData({params:u()({offset:(e-1)*this.pageSize,limit:this.pageSize},this.formConditions(this.searchForm))})},changePageSize:function(e){this.pageSize=e,this.mockTableData({params:u()({offset:0,limit:e},this.formConditions(this.searchForm))})},search:function(){this.mockTableData({params:u()({offset:(this.page-1)*this.pageSize,limit:this.pageSize},this.formConditions(this.searchForm))})},exportCsv:function(){this.$refs.table.exportCsv({filename:"订单信息",columns:this.tableColumns.filter(function(e){return"action"!==e.key}),data:this.tableData})},formConditions:function(e){return i()(e).reduce(function(t,r){return 0!=e[r]&&("object"===n()(e[r])?t[r]=[].concat(l()(e[r])):t[r]=e[r]),t},{})}}},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"rent-order"},[r("div",{staticClass:"header"},[r("Form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":100}},[r("FormItem",{attrs:{label:"订单单号",prop:"orderNo"}},[r("Input",{staticStyle:{width:"260px"},model:{value:e.searchForm.orderNo,callback:function(t){e.$set(e.searchForm,"orderNo",t)},expression:"searchForm.orderNo"}})],1),e._v(" "),r("FormItem",{attrs:{label:"订单创建时间",prop:"createDate"}},[r("DatePicker",{staticStyle:{width:"260px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placement:"bottom-end",placeholder:"选择订单创建时间区间"},on:{"on-change":e.changecreateDate}})],1),e._v(" "),r("FormItem",{attrs:{label:"订单类型",prop:"orderType"}},[r("Select",{staticStyle:{width:"150px"},attrs:{multiple:""},model:{value:e.searchForm.orderType,callback:function(t){e.$set(e.searchForm,"orderType",t)},expression:"searchForm.orderType"}},e._l(e.orderType,function(t){return r("Option",{key:t.key,attrs:{value:t.key}},[e._v("\n            "+e._s(t.value)+"\n          ")])}))],1),e._v(" "),r("FormItem",{attrs:{label:"订单状态",prop:"orderStatus"}},[r("Select",{staticStyle:{width:"150px"},attrs:{multiple:""},model:{value:e.searchForm.orderStatus,callback:function(t){e.$set(e.searchForm,"orderStatus",t)},expression:"searchForm.orderStatus"}},e._l(e.orderStatus,function(t){return r("Option",{key:t.key,attrs:{value:t.key}},[e._v("\n            "+e._s(t.value)+"\n          ")])}))],1),e._v(" "),r("FormItem",{attrs:{label:"关联服务单号",prop:"relatedServiceOrder"}},[r("Input",{staticStyle:{width:"260px"},model:{value:e.searchForm.relatedServiceOrder,callback:function(t){e.$set(e.searchForm,"relatedServiceOrder",t)},expression:"searchForm.relatedServiceOrder"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.search(t)}}},[e._v("搜索")]),e._v(" "),r("Button",{attrs:{type:"error"},nativeOn:{click:function(t){return e.reset(t)}}},[e._v("清空")]),e._v(" "),r("Button",{attrs:{type:"success"},nativeOn:{click:function(t){return e.exportCsv(t)}}},[e._v("导出")])],1)],1)],1),e._v(" "),r("div",{staticClass:"body"},[r("Table",{ref:"table",attrs:{data:e.tableData,columns:e.tableColumns,loading:e.tableLoading,stripe:""}})],1),e._v(" "),r("div",{staticClass:"footer"},[r("div",{staticClass:"pager",staticStyle:{float:"right"}},[r("Page",{attrs:{total:e.totalCount,current:1,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)])])},staticRenderFns:[]};var p=r("VU/8")(m,h,!1,function(e){r("ZCIe")},null,null);t.default=p.exports}});
//# sourceMappingURL=12.dbf0a9ee78baa58abd52.js.map