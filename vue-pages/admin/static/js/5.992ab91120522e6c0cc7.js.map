{"version":3,"sources":["webpack:///src/components/MemberDetail.vue","webpack:///./src/components/MemberDetail.vue?af0c","webpack:///./src/components/MemberDetail.vue"],"names":["MemberDetail","constant","required","message","trigger","type","_this","this","value","_this2","idType","_this3","gender","_this4","id","memberId","then","resp","results","formMember","extends_default","address","catch","err","concat","toConsumableArray_default","_this5","postData","data","defineProperty_default","isAddress","stringify_default","JSON","parse","components_MemberDetail","render","_vm","_h","$createElement","_c","_self","attrs","model","label-width","_v","staticClass","label","prop","xs","md","lg","_s","name","idNo","birthday","cellPhone","email","nativeOn","click","$event","editField","_l","ad","seq","key","balance","deposit","rent","createdDate","memberSource","title","mask-closable","callback","$$v","emailModal","expression","ref","emailModalForm","rules","emailValidate","placeholder","$set","loading","saveLoading","on","saveField","staticStyle","margin-left","cancelSaveField","width","addressModal","addressModalForm","item","index","span","offset","removeAddressItem","directives","rawName","length","addressMaxNum","long","icon","addAddressItem","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.992ab91120522e6c0cc7.js","sourcesContent":["<template>\n  <div id=\"member-detail\">\n    <Form :model=\"formMember\" :label-width=\"150\">\n      <section>\n        <header>基本信息</header>\n        <div class=\"section-body\">\n          <FormItem label=\"会员号\" prop=\"memberId\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.memberId }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"姓名\" prop=\"name\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.name }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"性别\" prop=\"gender\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ gender }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"证件类型\" prop=\"idType\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ idType }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"证件号码\" prop=\"idNo\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.idNo }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"生日\" prop=\"birthday\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.birthday }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"手机号\" prop=\"cellPhone\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.cellPhone }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"邮箱\" prop=\"email\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.email }}</p>\n              <Icon\n                class=\"edit-btn\"\n                type=\"edit\"\n                @click.native=\"editField('email')\"\n              />\n              </Col>\n            </Row>\n          </FormItem>\n        </div>\n      </section>\n      <section>\n        <header>\n          地址管理\n          <Icon\n            class=\"edit-btn\"\n            type=\"edit\"\n            @click.native=\"editField('address')\"\n          />\n        </header>\n        <div class=\"section-body\">\n          <FormItem\n            v-for=\"(ad, seq) in formMember.address\"\n            :key=\"seq\"\n            :label=\"`地址${seq+1}`\"\n            prop=\"address\"\n          >\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ ad }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n        </div>\n      </section>\n      <section>\n        <header>\n          账户信息\n        </header>\n        <div class=\"section-body\">\n          <FormItem label=\"余额\" prop=\"balance\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.balance + ' 元' }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"押金\" prop=\"deposit\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.deposit + ' 元' }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"租金\" prop=\"rent\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.rent + ' 元' }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n        </div>\n      </section>\n      <section>\n        <header>\n          其他信息\n        </header>\n        <div class=\"section-body\">\n          <FormItem label=\"创建时间\" prop=\"createdDate\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.createdDate }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"创建来源\" prop=\"source\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ memberSource }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <!-- <FormItem label=\"最后修改时间\" prop=\"lastModified\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.lastModified }}</p>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem label=\"最后修改人\" prop=\"lastModifiedBy\">\n            <Row>\n              <Col :xs=\"24\" :md=\"16\" :lg=\"12\">\n              <p>{{ formMember.lastModifiedBy }}</p>\n              </Col>\n            </Row>\n          </FormItem> -->\n        </div>\n      </section>\n    </Form>\n    <Modal\n      class=\"edit-field-modal\"\n      v-model=\"emailModal\"\n      title=\"修改邮箱\"\n      :mask-closable=\"false\"\n    >\n      <Form\n        ref=\"emailModalForm\"\n        :model=\"emailModalForm\"\n        :label-width=\"50\"\n        :rules=\"emailValidate\"\n      >\n        <FormItem label=\"邮箱\" prop=\"email\">\n          <Input\n            v-model=\"emailModalForm.email\"\n            placeholder=\"请输入邮箱\"\n          ></Input>\n        </FormItem>\n        <FormItem>\n          <Button\n            type=\"success\"\n            @click=\"saveField('email')\"\n            :loading=\"saveLoading\"\n          >保存</Button>\n          <Button\n            type=\"ghost\"\n            style=\"margin-left: 8px\"\n            @click=\"cancelSaveField('email')\"\n          >取消</Button>\n        </FormItem>\n      </Form>\n    </Modal>\n    <Modal\n      class=\"edit-field-modal\"\n      v-model=\"addressModal\"\n      title=\"修改地址\"\n      width=\"700\"\n      :mask-closable=\"false\"\n    >\n      <Form\n        ref=\"addressModalForm\"\n        :model=\"addressModalForm\"\n        :label-width=\"80\"\n      >\n        <FormItem\n          v-for=\"(item, index) in addressModalForm.address\"\n          :key=\"index\"\n          :label=\"'地址' + (index+1)\"\n          :prop=\"`address[${index}]`\"\n          :rules=\"{\n            required: true,\n            message: '地址' + (index+1) + '不能为空',\n            trigger: 'blur'\n          }\"\n        >\n          <Row>\n            <Col span=\"18\">\n            <Input\n              type=\"text\"\n              v-model=\"addressModalForm.address[index]\"\n              placeholder=\"请填写地址信息\"\n            ></Input>\n            </Col>\n            <Col span=\"4\" offset=\"1\">\n            <Button\n              type=\"error\"\n              @click=\"removeAddressItem(index)\"\n            >删除</Button>\n            </Col>\n          </Row>\n        </FormItem>\n        <FormItem>\n          <Row>\n            <Col span=\"12\">\n            <Button\n              v-show=\"addressModalForm.address.length < addressMaxNum\"\n              type=\"dashed\"\n              long\n              @click=\"addAddressItem\"\n              icon=\"plus-round\"\n            >添加新地址</Button>\n            </Col>\n          </Row>\n        </FormItem>\n        <FormItem>\n          <Button\n            type=\"success\"\n            @click=\"saveField('address')\"\n            :loading=\"saveLoading\"\n          >保存</Button>\n          <Button\n            type=\"ghost\"\n            style=\"margin-left: 8px\"\n            @click=\"cancelSaveField('address')\"\n          >取消</Button>\n        </FormItem>\n      </Form>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { IDTYPE, ADDRESSMAXNUM, MEMBERSOURCE, GENDER } from '@/constant'\n\nexport default {\n  data () {\n    return {\n      idTypes: IDTYPE,\n      addressMaxNum: ADDRESSMAXNUM,\n      memberSources: MEMBERSOURCE,\n      genders: GENDER,\n      saveLoading: false,\n      formMember: {\n        memberId: '',\n        name: '',\n        gender: '',\n        idType: '',\n        idNo: '',\n        birthday: '',\n        phone: '',\n        email: '',\n        address: [],\n        balance: '',\n        deposit: '',\n        rent: '',\n        createdDate: '',\n        source: '',\n        // lastModified: '',\n        // lastModifiedBy: '',\n      },\n      emailModal: false,\n      emailModalForm: {\n        email: '',\n      },\n      emailValidate: {\n        email: [\n          { required: true, message: '邮箱不能为空', trigger: 'blur' },\n          { type: 'email', message: '邮箱格式错误', trigger: 'blur' }\n        ],\n      },\n      addressModal: false,\n      addressModalForm: {\n        address: [],\n      }\n    }\n  },\n  computed: {\n    memberSource: function () {\n      const source = this.memberSources.find(cur => cur.key === this.formMember.source) || ''\n      return source && source.value\n    },\n    idType: function () {\n      const idType = this.idTypes.find(cur => cur.key === this.formMember.idType)\n      return idType && idType.value\n    },\n    gender: function () {\n      const gender = this.genders.find(cur => cur.key === this.formMember.gender)\n      return gender && gender.value\n    },\n  },\n  created () {\n    const url = '/member/'\n    this.formMember.memberId = this.$route.params.id\n    this.$fetch(url, {\n      params: {\n        memberId: this.formMember.memberId,\n      }\n    })\n      .then(resp => {\n        const results = resp.data.results\n        if (results && results.length) {\n          this.formMember = {\n            ...results[0],\n          }\n          this.formMember.address = JSON.parse(this.formMember.address)\n        } else {\n          this.$Message.error({\n            content: '未找到该会员的详细信息',\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err)\n        this.$Message.error({\n          content: err,\n        })\n      })\n  },\n  methods: {\n    editField (type) {\n      this[`${type}ModalForm`][type] = typeof this.formMember[type] === 'string'\n        ? this.formMember[type]\n        : [...this.formMember[type]]\n      this[`${type}Modal`] = true\n    },\n    saveField (type) {\n      this.$refs[`${type}ModalForm`].validate(valid => {\n        if (valid) {\n          this.saveLoading = true\n          const url = '/member/'\n          const postData = this[`${type}ModalForm`][type]\n          const isAddress = Array.isArray(postData)\n          this.$fetch(url, {\n            data: {\n              memberId: this.formMember.memberId,\n              [type]: isAddress\n                ? JSON.stringify(postData)\n                : postData,\n            },\n            method: 'post',\n          })\n            .then(resp => {\n              console.log(resp)\n              const data = resp.data\n              this.formMember[type] = isAddress\n                ? JSON.parse(data[type])\n                : data[type]\n              this.$Message.success({\n                content: '保存成功',\n              })\n              this[`${type}Modal`] = false\n              this.saveLoading = false\n            })\n            .catch(err => {\n              console.log(err)\n              this.$Message.error({\n                content: err,\n              })\n              this.saveLoading = false\n            })\n        } else {\n          this.$Message.error({\n            content: '保存失败',\n          })\n        }\n      })\n    },\n    cancelSaveField (type) {\n      this[`${type}Modal`] = false\n    },\n    addAddressItem () {\n      if (this.addressModalForm.address.length === this.addressMaxNum) {\n        this.$Message.error({\n          content: '最多添加5个常用地址',\n        })\n      } else {\n        this.addressModalForm.address.push('')\n      }\n    },\n    removeAddressItem (i) {\n      if (this.addressModalForm.address.length === 1) {\n        this.$Message.error({\n          content: '至少保留1个常用地址',\n        })\n      } else {\n        this.addressModalForm.address.splice(i, 1)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"less\">\n#member-detail {\n  padding: 15px;\n  justify-content: flex-start;\n  background: #f7f7f7;\n  overflow: auto;\n\n  * {\n    font-size: 14px;\n  }\n\n  .edit-btn {\n    cursor: pointer;\n  }\n\n  section {\n    width: 100%;\n    border: 1px solid #e8e8e8;\n    background: #fff;\n    margin-bottom: 20px;\n\n    header {\n      border-bottom: 1px solid #e8e8e8;\n      background: #f5f5f5;\n      padding: 10px 15px;\n      font-weight: bold;\n\n      .edit-btn {\n        margin-left: 10px;\n      }\n    }\n\n    .section-body {\n      padding: 15px;\n\n      .ivu-form-item {\n        margin-bottom: 0;\n        padding: 5px 0;\n\n        .ivu-form-item-label {\n          font-weight: bold;\n        }\n      }\n\n      .ivu-row {\n        padding: 0 15px;\n\n        p {\n          padding: 1px 0;\n          display: inline-block;\n\n          & + i {\n            margin-left: 10px;\n          }\n        }\n      }\n    }\n  }\n}\n.edit-field-modal {\n  .ivu-form {\n    height: 100%;\n\n    .ivu-form-item:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .ivu-modal-footer {\n    display: none;\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/MemberDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"member-detail\"}},[_c('Form',{attrs:{\"model\":_vm.formMember,\"label-width\":150}},[_c('section',[_c('header',[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"section-body\"},[_c('FormItem',{attrs:{\"label\":\"会员号\",\"prop\":\"memberId\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.memberId))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.name))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"性别\",\"prop\":\"gender\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.gender))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"证件类型\",\"prop\":\"idType\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.idType))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"证件号码\",\"prop\":\"idNo\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.idNo))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"生日\",\"prop\":\"birthday\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.birthday))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"手机号\",\"prop\":\"cellPhone\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.cellPhone))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.email))]),_vm._v(\" \"),_c('Icon',{staticClass:\"edit-btn\",attrs:{\"type\":\"edit\"},nativeOn:{\"click\":function($event){_vm.editField('email')}}})],1)],1)],1)],1)]),_vm._v(\" \"),_c('section',[_c('header',[_vm._v(\"\\n        地址管理\\n        \"),_c('Icon',{staticClass:\"edit-btn\",attrs:{\"type\":\"edit\"},nativeOn:{\"click\":function($event){_vm.editField('address')}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"section-body\"},_vm._l((_vm.formMember.address),function(ad,seq){return _c('FormItem',{key:seq,attrs:{\"label\":(\"地址\" + (seq+1)),\"prop\":\"address\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(ad))])])],1)],1)}))]),_vm._v(\" \"),_c('section',[_c('header',[_vm._v(\"\\n        账户信息\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"section-body\"},[_c('FormItem',{attrs:{\"label\":\"余额\",\"prop\":\"balance\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.balance + ' 元'))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"押金\",\"prop\":\"deposit\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.deposit + ' 元'))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"租金\",\"prop\":\"rent\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.rent + ' 元'))])])],1)],1)],1)]),_vm._v(\" \"),_c('section',[_c('header',[_vm._v(\"\\n        其他信息\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"section-body\"},[_c('FormItem',{attrs:{\"label\":\"创建时间\",\"prop\":\"createdDate\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.formMember.createdDate))])])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"创建来源\",\"prop\":\"source\"}},[_c('Row',[_c('Col',{attrs:{\"xs\":24,\"md\":16,\"lg\":12}},[_c('p',[_vm._v(_vm._s(_vm.memberSource))])])],1)],1)],1)])]),_vm._v(\" \"),_c('Modal',{staticClass:\"edit-field-modal\",attrs:{\"title\":\"修改邮箱\",\"mask-closable\":false},model:{value:(_vm.emailModal),callback:function ($$v) {_vm.emailModal=$$v},expression:\"emailModal\"}},[_c('Form',{ref:\"emailModalForm\",attrs:{\"model\":_vm.emailModalForm,\"label-width\":50,\"rules\":_vm.emailValidate}},[_c('FormItem',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.emailModalForm.email),callback:function ($$v) {_vm.$set(_vm.emailModalForm, \"email\", $$v)},expression:\"emailModalForm.email\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"success\",\"loading\":_vm.saveLoading},on:{\"click\":function($event){_vm.saveField('email')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.cancelSaveField('email')}}},[_vm._v(\"取消\")])],1)],1)],1),_vm._v(\" \"),_c('Modal',{staticClass:\"edit-field-modal\",attrs:{\"title\":\"修改地址\",\"width\":\"700\",\"mask-closable\":false},model:{value:(_vm.addressModal),callback:function ($$v) {_vm.addressModal=$$v},expression:\"addressModal\"}},[_c('Form',{ref:\"addressModalForm\",attrs:{\"model\":_vm.addressModalForm,\"label-width\":80}},[_vm._l((_vm.addressModalForm.address),function(item,index){return _c('FormItem',{key:index,attrs:{\"label\":'地址' + (index+1),\"prop\":(\"address[\" + index + \"]\"),\"rules\":{\n          required: true,\n          message: '地址' + (index+1) + '不能为空',\n          trigger: 'blur'\n        }}},[_c('Row',[_c('Col',{attrs:{\"span\":\"18\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请填写地址信息\"},model:{value:(_vm.addressModalForm.address[index]),callback:function ($$v) {_vm.$set(_vm.addressModalForm.address, index, $$v)},expression:\"addressModalForm.address[index]\"}})],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\",\"offset\":\"1\"}},[_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){_vm.removeAddressItem(index)}}},[_vm._v(\"删除\")])],1)],1)],1)}),_vm._v(\" \"),_c('FormItem',[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addressModalForm.address.length < _vm.addressMaxNum),expression:\"addressModalForm.address.length < addressMaxNum\"}],attrs:{\"type\":\"dashed\",\"long\":\"\",\"icon\":\"plus-round\"},on:{\"click\":_vm.addAddressItem}},[_vm._v(\"添加新地址\")])],1)],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"success\",\"loading\":_vm.saveLoading},on:{\"click\":function($event){_vm.saveField('address')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.cancelSaveField('address')}}},[_vm._v(\"取消\")])],1)],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-644749b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--1-1!./src/components/MemberDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-644749b8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./MemberDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./MemberDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./MemberDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-644749b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./MemberDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MemberDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}