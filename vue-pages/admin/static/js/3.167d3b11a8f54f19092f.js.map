{"version":3,"sources":["webpack:///src/components/Goods.vue","webpack:///./src/components/Goods.vue?b03b","webpack:///./src/components/Goods.vue","webpack:///src/components/EnumSelector.vue","webpack:///./src/components/EnumSelector.vue?fb86","webpack:///./src/components/EnumSelector.vue"],"names":["Goods","_this","this","constant","find","cur","key","value","productid","mockTableData","_moreCondModalForm","moreCondModalForm","category","goldType","brand","series","_searchForm","searchForm","Array","obj","filter","length","_this2","config","then","resp","_resp$data","data","results","count","catch","err","page","params","extends_default","pageSize","resetFields","tableData","_this3","k","cum","conds","components_Goods","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","label","prop","callback","$$v","$set","expression","_v","dot","moreCondCount","type","icon","on","click","expandMoreCond","nativeOn","$event","search","reset","exportCsv","columns","tableColumns","loading","tableLoading","stripe","staticStyle","float","total","totalCount","current","show-total","show-elevator","show-sizer","on-change","changePage","on-page-size-change","changePageSize","title","mask-closable","width","closable","moreCondModal","selected","items","categoryOfGood","single","goldTypes","brandOptions","filter-method","filterMethod","placeholder","seriesOptions","saveMoreCond","margin-left","cancelMoreCond","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","EnumSelector","Boolean","b","$forceUpdate","components_EnumSelector","_l","item","i","class","active","domProps","checked","change","changeSelected","target","_s"],"mappings":"qPAkHAA,yCAIA,mBACA,IAAAC,EAAAC,2BAEAC,EAAA,yBACAA,EAAA,sBACAA,EAAA,2BACAA,EAAA,mBACA,WACA,cACA,gCAGA,SACA,qBAEA,UAEA,mBACA,gBACA,mDAIA,UAEA,+BAEA,uBAGA,WACA,sBACA,WAEA,YAEA,WACA,qBACA,WACA,gDAEAC,KAAA,SAAAC,6BACAC,2BACAC,gBAIA,WACA,kBACA,WAEA,YAEA,WACA,kBACA,WAEA,YAEA,SACA,kBACA,WAEA,YAEA,SACA,mBACA,WAEA,YAEA,WACA,6DAEAA,cAEAD,uBACA,iDAEAC,YAEA,0CAEAH,KAAA,SAAAC,6BACAC,2BACAC,gBAIA,WACA,iEAEAA,cAEAD,uBACA,mDAEAC,YAEA,4CAEAH,KAAA,SAAAC,+BACAC,2BACAC,gBAIA,aACA,wBACA,WAEA,YAEA,cACA,0BACA,WAEA,YAEA,UACA,yBACA,WAEA,YAEA,SACA,iBACA,WAEA,YAEA,SACA,oBACA,WAEA,YAEA,WACA,uEAEAA,cAEAD,uBACA,sDAEAC,YAEA,+CAEAH,KAAA,SAAAC,kCACAC,2BACAC,gBAIA,SACA,eACA,UACA,sEAKA,eAEA,4BAGA,0DAIAC,cAIA,qCAOAC,wEAIA,2BAEA,IAAAC,EAAAR,KACAS,6HAEAC,2BACAC,IACAC,QAEAC,yDACAJ,uCACA,6BAEA,IAAAK,EAAAd,KACAe,yGAEAL,2BACAC,IACAC,QAEAC,wDACAJ,uCACA,gDAGAJ,8FAIAW,MAAAC,EAAAb,GAAAc,OAAA,SAAAf,cACAgB,OAAAF,EACAb,MACA,8BAEA,IAAAgB,EAAApB,wBACA,cACA,YACAqB,GAAAC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAEAE,uCACAC,eACAC,kBACA,IACAC,MAAA,SAAAC,6BAKA,yBACA,sCAKAC,sBAEAC,OAAAC,uBACAC,oBACAA,mCAGAlB,yDAIAkB,sBAEAF,OAAAC,YACA,QACAC,4BAGAlB,sDAKAgB,OAAAC,+BACAC,oBACAA,mCAGAlB,uDAGAmB,oEAIA,UAEA,uEAIA,UAEA,wBACA,wDAGAD,oBAGAA,uEAIA,0DACA,6BAEAE,wCAEA,IAAAC,EAAApC,8FAIAqC,YAEAA,IAGApB,6GAIAb,KACAkC,kGAGAlC,KACAkC,QAEAC,KCpbAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA1C,KAAa2C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,QAAaG,IAAA,aAAAC,OAAwBC,MAAAR,EAAA3B,WAAAoC,cAAA,MAAyCN,EAAA,YAAiBI,OAAOG,MAAA,OAAAC,KAAA,WAA+BR,EAAA,SAAcK,OAAO7C,MAAAqC,EAAA3B,WAAA,MAAAuC,SAAA,SAAAC,GAAsDb,EAAAc,KAAAd,EAAA3B,WAAA,QAAAwC,IAAuCE,WAAA,uBAAgC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,YAAiCI,OAAOG,MAAA,OAAAC,KAAA,WAA+BR,EAAA,SAAcK,OAAO7C,MAAAqC,EAAA3B,WAAA,MAAAuC,SAAA,SAAAC,GAAsDb,EAAAc,KAAAd,EAAA3B,WAAA,QAAAwC,IAAuCE,WAAA,uBAAgC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,YAAAA,EAAA,SAA6CI,OAAOU,IAAA,GAAAhC,MAAAe,EAAAkB,iBAAoCf,EAAA,UAAeI,OAAOY,KAAA,QAAAC,KAAA,cAAmCC,IAAKC,MAAAtB,EAAAuB,kBAA4BvB,EAAAgB,GAAA,kBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,YAAAA,EAAA,UAAmEI,OAAOY,KAAA,WAAiBK,UAAWF,MAAA,SAAAG,GAAyB,OAAAzB,EAAA0B,OAAAD,OAA4BzB,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAb,EAAA,UAA0CI,OAAOY,KAAA,SAAeK,UAAWF,MAAA,SAAAG,GAAyB,OAAAzB,EAAA2B,MAAAF,OAA2BzB,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAb,EAAA,UAA0CI,OAAOY,KAAA,WAAiBK,UAAWF,MAAA,SAAAG,GAAyB,OAAAzB,EAAA4B,UAAAH,OAA+BzB,EAAAgB,GAAA,oBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OAAmDE,YAAA,SAAmBF,EAAA,SAAcG,IAAA,QAAAC,OAAmBxB,KAAAiB,EAAAP,UAAAoC,QAAA7B,EAAA8B,aAAAC,QAAA/B,EAAAgC,aAAAC,OAAA,OAAwF,GAAAjC,EAAAgB,GAAA,KAAAb,EAAA,OAA4BE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,QAAA6B,aAAiCC,MAAA,WAAiBhC,EAAA,QAAaI,OAAO6B,MAAApC,EAAAqC,WAAAC,QAAA,EAAAC,aAAA,GAAAC,gBAAA,GAAAC,aAAA,IAAsFpB,IAAKqB,YAAA1C,EAAA2C,WAAAC,sBAAA5C,EAAA6C,mBAAqE,KAAA7C,EAAAgB,GAAA,KAAAb,EAAA,SAAgCE,YAAA,mBAAAE,OAAsCuC,MAAA,SAAAC,iBAAA,EAAAC,MAAA,IAAAC,UAAA,GAAoEzC,OAAQ7C,MAAAqC,EAAA,cAAAY,SAAA,SAAAC,GAAmDb,EAAAkD,cAAArC,GAAsBE,WAAA,mBAA6BZ,EAAA,QAAaI,OAAOC,MAAAR,EAAAjC,kBAAA0C,cAAA,MAAgDN,EAAA,YAAiBI,OAAOG,MAAA,OAAAC,KAAA,cAAkCR,EAAA,iBAAsBI,OAAO4C,SAAAnD,EAAAjC,kBAAAC,SAAAoF,MAAApD,EAAAqD,eAAAC,QAAA,MAAqF,GAAAtD,EAAAgB,GAAA,KAAAb,EAAA,YAAiCI,OAAOG,MAAA,OAAAC,KAAA,cAAkCR,EAAA,iBAAsBI,OAAO4C,SAAAnD,EAAAjC,kBAAAE,SAAAmF,MAAApD,EAAAuD,UAAAD,QAAA,MAAgF,GAAAtD,EAAAgB,GAAA,KAAAb,EAAA,YAAiCI,OAAOG,MAAA,KAAAC,KAAA,WAA6BR,EAAA,gBAAqB+B,aAAac,MAAA,SAAgBzC,OAAQxB,KAAAiB,EAAAwD,aAAAC,gBAAAzD,EAAA0D,aAAAC,YAAA,aAAmFnD,OAAQ7C,MAAAqC,EAAAjC,kBAAA,MAAA6C,SAAA,SAAAC,GAA6Db,EAAAc,KAAAd,EAAAjC,kBAAA,QAAA8C,IAA8CE,WAAA,8BAAuC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,YAAiCI,OAAOG,MAAA,KAAAC,KAAA,YAA8BR,EAAA,gBAAqB+B,aAAac,MAAA,SAAgBzC,OAAQxB,KAAAiB,EAAA4D,cAAAH,gBAAAzD,EAAA0D,aAAAC,YAAA,aAAoFnD,OAAQ7C,MAAAqC,EAAAjC,kBAAA,OAAA6C,SAAA,SAAAC,GAA8Db,EAAAc,KAAAd,EAAAjC,kBAAA,SAAA8C,IAA+CE,WAAA,+BAAwC,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,YAAAA,EAAA,UAA8CI,OAAOY,KAAA,WAAiBE,IAAKC,MAAAtB,EAAA6D,gBAA0B7D,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAb,EAAA,UAA0C+B,aAAa4B,cAAA,OAAoBvD,OAAQY,KAAA,SAAeE,IAAKC,MAAAtB,EAAA+D,kBAA4B/D,EAAAgB,GAAA,yBAErxGgD,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA/G,EACA0C,GATA,EAVA,SAAAsE,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA,gECPA,IAAAK,yBAIAhG,8BAIAA,+BAIAiG,iBAGA,2EASA,oBAEAC,OACAC,kBC3CAC,GADiB3E,OAFjB,WAA0B,IAAAC,EAAA1C,KAAa2C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4BL,EAAA2E,GAAA3E,EAAA,eAAA4E,EAAAC,GAAqC,OAAA1E,EAAA,QAAkBzC,IAAAkH,EAAAlH,IAAA2C,YAAA,sBAAAyE,OAAsDC,OAAA/E,EAAAmD,SAAA0B,MAA2B1E,EAAA,SAAcI,OAAOY,KAAA,YAAkB6D,UAAWC,QAAAjF,EAAAmD,SAAA0B,IAA0BxD,IAAK6D,OAAA,SAAAzD,GAA0BzB,EAAAmF,eAAA1D,EAAA2D,OAAAH,QAAAJ,OAA+C7E,EAAAgB,GAAA,SAAAhB,EAAAqF,GAAAT,EAAAjH,OAAA,cAEvZqG,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAG,EACAI,GATA,EAVA,SAAAN,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,EAAAJ,EAAA","file":"static/js/3.167d3b11a8f54f19092f.js","sourcesContent":["<template>\n  <div class=\"goods\">\n    <div class=\"header\">\n      <Form ref=\"searchForm\" :model=\"searchForm\" :label-width=\"80\">\n        <FormItem label=\"商品型号\" prop=\"model\">\n          <Input v-model=\"searchForm.model\">\n          </Input>\n        </FormItem>\n        <FormItem label=\"商品名称\" prop=\"title\">\n          <Input v-model=\"searchForm.title\">\n          </Input>\n        </FormItem>\n        <FormItem>\n          <Badge dot :count=\"moreCondCount\">\n            <Button type=\"ghost\" icon=\"ios-search\" @click=\"expandMoreCond\">更多筛选</Button>\n          </Badge>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click.native=\"search\">搜索</Button>\n          <Button type=\"error\" @click.native=\"reset\">清空</Button>\n          <Button\n            type=\"success\"\n            @click.native=\"exportCsv\"\n          >导出</Button>\n        </FormItem>\n      </Form>\n    </div>\n    <div class=\"body\">\n      <Table\n        ref=\"table\"\n        :data=\"tableData\"\n        :columns=\"tableColumns\"\n        :loading=\"tableLoading\"\n        stripe\n      />\n    </div>\n    <div class=\"footer\">\n      <div class=\"pager\" style=\"float: right;\">\n        <Page\n          :total=\"totalCount\"\n          :current=\"1\"\n          show-total\n          show-elevator\n          show-sizer\n          @on-change=\"changePage\"\n          @on-page-size-change=\"changePageSize\"\n        />\n      </div>\n    </div>\n    <Modal\n      class=\"edit-field-modal\"\n      v-model=\"moreCondModal\"\n      title=\"更多筛选条件\"\n      :mask-closable=\"false\"\n      :width=\"700\"\n      :closable=\"false\"\n    >\n      <Form\n        :model=\"moreCondModalForm\"\n        :label-width=\"70\"\n      >\n        <FormItem label=\"商品类别\" prop=\"category\">\n          <enum-selector\n            :selected=\"moreCondModalForm.category\"\n            :items=\"categoryOfGood\"\n            :single=\"false\"\n          />\n        </FormItem>\n        <FormItem label=\"镶嵌材质\" prop=\"goldType\">\n          <enum-selector\n            :selected=\"moreCondModalForm.goldType\"\n            :items=\"goldTypes\"\n            :single=\"false\"\n          />\n        </FormItem>\n        <FormItem label=\"品牌\" prop=\"brand\">\n          <AutoComplete\n            v-model=\"moreCondModalForm.brand\"\n            :data=\"brandOptions\"\n            :filter-method=\"filterMethod\"\n            placeholder=\"输入关键字搜索品牌\"\n            style=\"width:400px\"\n          />\n        </FormItem>\n        <FormItem label=\"系列\" prop=\"series\">\n          <AutoComplete\n            v-model=\"moreCondModalForm.series\"\n            :data=\"seriesOptions\"\n            :filter-method=\"filterMethod\"\n            placeholder=\"输入关键字搜索系列\"\n            style=\"width:400px\"\n          />\n        </FormItem>\n        <FormItem>\n          <Button\n            type=\"success\"\n            @click=\"saveMoreCond\"\n          >保存</Button>\n          <Button\n            type=\"ghost\"\n            style=\"margin-left: 8px\"\n            @click=\"cancelMoreCond\"\n          >取消</Button>\n        </FormItem>\n      </Form>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { CATEGORYOFGOOD, GOLDTYPE, GOLDPURITY,\n  BRANDOPTIONS, SERIESOPTIONS, RELEASESTATUS } from '@/constant'\nimport EnumSelector from './EnumSelector'\n\nexport default {\n  components: {\n    'enum-selector': EnumSelector,\n  },\n  data () {\n    return {\n      categoryOfGood: CATEGORYOFGOOD,\n      goldTypes: GOLDTYPE,\n      brandOptions: BRANDOPTIONS,\n      seriesOptions: SERIESOPTIONS,\n      page: 1,\n      pageSize: 10,\n      totalCount: 0,\n      searchForm: {\n        category: [],\n        model: '',\n        title: '',\n        goldType: [],\n        brand: '',\n        series: '',\n      },\n      moreCondModal: false,\n      moreCondCount: 0,\n      moreCondModalForm: {\n        category: [],\n        goldType: [],\n        brand: '',\n        series: '',\n      },\n      tableData: [],\n      tableLoading: false,\n      tableColumns: [\n        {\n          title: '商品ID',\n          key: 'productid',\n          sortable: true,\n          minWidth: 150,\n        },\n        {\n          title: '商品类别',\n          key: 'category',\n          sortable: true,\n          minWidth: 120,\n          render (h, params) {\n            const category = CATEGORYOFGOOD.find(\n              cur => params.row.category === cur.key)\n            return h('span', category && category.value)\n          },\n        },\n        {\n          title: '商品型号',\n          key: 'model',\n          sortable: true,\n          minWidth: 150,\n        },\n        {\n          title: '商品名称',\n          key: 'title',\n          sortable: true,\n          minWidth: 120,\n        },\n        {\n          title: '品牌',\n          key: 'brand',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '系列',\n          key: 'series',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '镶嵌材质',\n          key: 'goldType',\n          filters: GOLDTYPE.map(t => ({\n            label: t.value,\n            value: t.key,\n          })),\n          filterMultiple: true,\n          filterMethod (value, row) {\n            return row.goldType === value\n          },\n          minWidth: 100,\n          render (h, params) {\n            const goldType = GOLDTYPE.find(\n              cur => params.row.goldType === cur.key)\n            return h('span', goldType && goldType.value)\n          },\n        },\n        {\n          title: '材质纯度',\n          key: 'goldPurity',\n          filters: GOLDPURITY.map(t => ({\n            label: t.value,\n            value: t.key,\n          })),\n          filterMultiple: true,\n          filterMethod (value, row) {\n            return row.goldPurity === value\n          },\n          minWidth: 100,\n          render (h, params) {\n            const goldPurity = GOLDPURITY.find(\n              cur => params.row.goldPurity === cur.key)\n            return h('span', goldPurity && goldPurity.value)\n          },\n        },\n        {\n          title: '含金量（克）',\n          key: 'goldContent',\n          sortable: true,\n          minWidth: 130,\n        },\n        {\n          title: '钻石重量（克）',\n          key: 'diamondWeight',\n          sortable: true,\n          minWidth: 150,\n        },\n        {\n          title: '销售价',\n          key: 'sellingPrice',\n          sortable: true,\n          minWidth: 120,\n        },\n        {\n          title: '租金',\n          key: 'rent',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '押金',\n          key: 'deposit',\n          sortable: true,\n          minWidth: 100,\n        },\n        {\n          title: '发布状态',\n          key: 'releaseStatus',\n          filters: RELEASESTATUS.map(t => ({\n            label: t.value,\n            value: t.key,\n          })),\n          filterMultiple: true,\n          filterMethod (value, row) {\n            return row.releaseStatus === value\n          },\n          minWidth: 130,\n          render (h, params) {\n            const releaseStatus = RELEASESTATUS.find(\n              cur => params.row.releaseStatus === cur.key)\n            return h('span', releaseStatus && releaseStatus.value)\n          },\n        },\n        {\n          title: '操作',\n          key: 'action',\n          width: 100,\n          align: 'center',\n          render: (h, params) => {\n            return h('div', [\n              h('Button', {\n                props: {\n                  type: 'primary',\n                  size: 'small'\n                },\n                style: {\n                  marginRight: '5px'\n                },\n                on: {\n                  click: () => {\n                    // console.log(params)\n                    this.$router.push(`goods/${params.row.productid}`)\n                  }\n                }\n              }, '详情'),\n            ])\n          }\n        },\n      ]\n    }\n  },\n  created () {\n    this.mockTableData()\n  },\n  methods: {\n    expandMoreCond () {\n      this.moreCondModal = true\n    },\n    saveMoreCond () {\n      const { category, goldType, brand, series } = this.moreCondModalForm\n      this.searchForm = Object.assign(this.searchForm, {\n        category: [...category],\n        goldType: [...goldType],\n        brand,\n        series,\n      })\n      this.moreCondCount = this.calMoreCondCount(this.moreCondModalForm)\n      this.moreCondModal = false\n    },\n    cancelMoreCond () {\n      const { category, goldType, brand, series } = this.searchForm\n      this.moreCondModalForm = {\n        category: [...category],\n        goldType: [...goldType],\n        brand,\n        series,\n      }\n      this.moreCondCount = this.calMoreCondCount(this.moreCondModalForm)\n      this.moreCondModal = false\n    },\n    filterMethod (value, option) {\n      return option.includes(value)\n    },\n    calMoreCondCount (obj) {\n      return +Object.keys(obj).reduce((cum, key) => {\n        return cum || (obj[key] instanceof Array\n          ? obj[key].filter(cur => cur).length\n          : obj[key])\n      }, false)\n    },\n    mockTableData (config) {\n      this.tableLoading = true\n      const url = '/product/'\n      this.$fetch(url, config)\n        .then(resp => {\n          console.log(resp)\n          const { count, results } = resp.data\n          this.tableData = results\n          this.totalCount = count\n          this.tableLoading = false\n        })\n        .catch(err => {\n          console.log(err)\n          this.$Message.error({\n            content: '查询失败',\n          })\n          this.tableLoading = false\n        })\n    },\n    changePage (page) {\n      console.log(page)\n      this.page = page\n      this.mockTableData({\n        params: {\n          offset: (page - 1) * this.pageSize,\n          limit: this.pageSize,\n          ...this.formConditions(this.searchForm),\n        }\n      })\n    },\n    changePageSize (pageSize) {\n      console.log(pageSize)\n      this.pageSize = pageSize\n      this.mockTableData({\n        params: {\n          offset: 0,\n          limit: pageSize,\n          ...this.formConditions(this.searchForm),\n        }\n      })\n    },\n    search () {\n      console.log(this.formConditions(this.searchForm))\n      this.mockTableData({\n        params: {\n          offset: (this.page - 1) * this.pageSize,\n          limit: this.pageSize,\n          ...this.formConditions(this.searchForm),\n        }\n      })\n    },\n    reset () {\n      this.$refs.searchForm.resetFields()\n      this.moreCondModalForm = {\n        category: [],\n        goldType: [],\n        brand: '',\n        series: '',\n      }\n      this.searchForm = Object.assign(this.searchForm, {\n        category: [],\n        goldType: [],\n        brand: '',\n        series: '',\n      })\n      this.moreCondCount = 0\n      this.mockTableData({\n        params: {\n          offset: (this.page - 1) * this.pageSize,\n          limit: this.pageSize,\n        }\n      })\n    },\n    exportCsv () {\n      this.$refs.table.exportCsv({\n        filename: '会员信息',\n        columns: this.tableColumns.filter(col => col.key !== 'action'),\n        data: this.tableData,\n      })\n    },\n    formConditions (form) {\n      const conds = Object.keys(form).reduce((obj, k) => {\n        if (form[k] != false) {\n          if (typeof form[k] === 'object') {\n            obj[k] = [...form[k]]\n          } else {\n            obj[k] = form[k]\n          }\n        }\n        return obj\n      }, {})\n\n      conds.category && (conds.category = conds.category.reduce((cum, cur, i) => {\n        cur && cum.push(this.categoryOfGood[i].key)\n        return cum\n      }, []))\n      conds.goldType && (conds.goldType = conds.goldType.reduce((cum, cur, i) => {\n        cur && cum.push(this.goldTypes[i].key)\n        return cum\n      }, []))\n      return conds\n    },\n  }\n}\n</script>\n\n<style lang=\"less\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('div',{staticClass:\"header\"},[_c('Form',{ref:\"searchForm\",attrs:{\"model\":_vm.searchForm,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"商品型号\",\"prop\":\"model\"}},[_c('Input',{model:{value:(_vm.searchForm.model),callback:function ($$v) {_vm.$set(_vm.searchForm, \"model\", $$v)},expression:\"searchForm.model\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"商品名称\",\"prop\":\"title\"}},[_c('Input',{model:{value:(_vm.searchForm.title),callback:function ($$v) {_vm.$set(_vm.searchForm, \"title\", $$v)},expression:\"searchForm.title\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Badge',{attrs:{\"dot\":\"\",\"count\":_vm.moreCondCount}},[_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"ios-search\"},on:{\"click\":_vm.expandMoreCond}},[_vm._v(\"更多筛选\")])],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.search($event)}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},nativeOn:{\"click\":function($event){return _vm.reset($event)}}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){return _vm.exportCsv($event)}}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('Table',{ref:\"table\",attrs:{\"data\":_vm.tableData,\"columns\":_vm.tableColumns,\"loading\":_vm.tableLoading,\"stripe\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"pager\",staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.totalCount,\"current\":1,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)]),_vm._v(\" \"),_c('Modal',{staticClass:\"edit-field-modal\",attrs:{\"title\":\"更多筛选条件\",\"mask-closable\":false,\"width\":700,\"closable\":false},model:{value:(_vm.moreCondModal),callback:function ($$v) {_vm.moreCondModal=$$v},expression:\"moreCondModal\"}},[_c('Form',{attrs:{\"model\":_vm.moreCondModalForm,\"label-width\":70}},[_c('FormItem',{attrs:{\"label\":\"商品类别\",\"prop\":\"category\"}},[_c('enum-selector',{attrs:{\"selected\":_vm.moreCondModalForm.category,\"items\":_vm.categoryOfGood,\"single\":false}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"镶嵌材质\",\"prop\":\"goldType\"}},[_c('enum-selector',{attrs:{\"selected\":_vm.moreCondModalForm.goldType,\"items\":_vm.goldTypes,\"single\":false}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"品牌\",\"prop\":\"brand\"}},[_c('AutoComplete',{staticStyle:{\"width\":\"400px\"},attrs:{\"data\":_vm.brandOptions,\"filter-method\":_vm.filterMethod,\"placeholder\":\"输入关键字搜索品牌\"},model:{value:(_vm.moreCondModalForm.brand),callback:function ($$v) {_vm.$set(_vm.moreCondModalForm, \"brand\", $$v)},expression:\"moreCondModalForm.brand\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"系列\",\"prop\":\"series\"}},[_c('AutoComplete',{staticStyle:{\"width\":\"400px\"},attrs:{\"data\":_vm.seriesOptions,\"filter-method\":_vm.filterMethod,\"placeholder\":\"输入关键字搜索系列\"},model:{value:(_vm.moreCondModalForm.series),callback:function ($$v) {_vm.$set(_vm.moreCondModalForm, \"series\", $$v)},expression:\"moreCondModalForm.series\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.saveMoreCond}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.cancelMoreCond}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-868f0e88\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--1-1!./src/components/Goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-868f0e88\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-868f0e88\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./Goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Goods.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"enum-selector\">\n    <span\n      class=\"enum-selector__item\"\n      v-for=\"(item, i) in items\"\n      :key=\"item.key\"\n      :class=\"{ active: selected[i] }\"\n    >\n      <input\n        type=\"checkbox\"\n        :checked=\"selected[i]\"\n        @change=\"changeSelected($event.target.checked, i)\"\n      >\n      {{ item.value }}\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    selected: {\n      type: Array,\n      default: [],\n    },\n    items: {\n      type: Array,\n      default: [],\n    },\n    single: {\n      type: Boolean,\n      default: true,\n    }\n  },\n  // data () {\n  //   return {\n  //     selectedItem: [...this.selected],\n  //   }\n  // },\n  methods: {\n    changeSelected (b, i) {\n      if (this.single) {\n        this.selected.fill(false)\n      }\n      this.selected[i] = b\n      this.$forceUpdate()\n    },\n  },\n}\n</script>\n\n<style lang=\"less\">\n.enum-selector {\n  .enum-selector__item {\n    position: relative;\n    float: left;\n    min-width: 52px;\n    margin: 0 5px;\n    margin-bottom: 5px;\n    text-align: center;\n    padding: 0 5px;\n\n    &.active {\n      background: #19be6b;\n      color: #fff;\n    }\n\n    > input {\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      width: 100%;\n      height: 100%;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/EnumSelector.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"enum-selector\"},_vm._l((_vm.items),function(item,i){return _c('span',{key:item.key,staticClass:\"enum-selector__item\",class:{ active: _vm.selected[i] }},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.selected[i]},on:{\"change\":function($event){_vm.changeSelected($event.target.checked, i)}}}),_vm._v(\"\\n    \"+_vm._s(item.value)+\"\\n  \")])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b2c69f74\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--1-1!./src/components/EnumSelector.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b2c69f74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2c69f74\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../node_modules/iview-loader/index.js??ref--1-1!./EnumSelector.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EnumSelector.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}